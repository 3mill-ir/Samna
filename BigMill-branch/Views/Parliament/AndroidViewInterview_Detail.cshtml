@model BigMill.Models.PostModel
@{
    Layout = null;
}
<!-- Google Fonts -->
<link href='http://fonts.googleapis.com/css?family=Marcellus:400,400italic,700,700italic%7CMarcellus:400,400italic,700,700italic%7CMarcellus:400,400italic,700,700italic%7CMarcellus:400,400italic,700,700italic%7CMarcellus:400,400italic,700,700italic%7CMarcellus:400,400italic,700,700italic%7CPT+Sans:400,400italic,700,700italic%7CPT+Sans:400,400italic,700,700italic%7C' rel='stylesheet' type='text/css'>

<!-- Stylesheets -->
<link rel='stylesheet' id='stylesheet-css' href='~/Content/UserContent/css/style.css' type='text/css' media='all' />
<link rel='stylesheet' id='icons-css' href='~/Content/UserContent/css/icons.css' type='text/css' media='all' />
<link rel='stylesheet' id='animate-css' href='~/Content/UserContent/css/animate.css' type='text/css' media='all' />
<link rel='stylesheet' id='shortcodes_front-css' href='~/Content/UserContent/css/shortcodes.css?ver=4.3.2' type='text/css' media='all' />

<!-- Responsive CSS -->
<!-- Custom CSS -->
<link rel='stylesheet' id='custom-css' href='~/Content/UserContent/css/custom-styles.css' type='text/css' media='all' />


<!-- RTL CSS -->
<link rel='stylesheet' id='rtl-css' href='~/Content/UserContent/css/rtl.css' type='text/css' media='all' />

<script type='text/javascript' src='~/Content/UserContent/js/jquery/jquery.js?ver=1.11.0'></script>
<script type='text/javascript' src='~/Content/UserContent/js/themetor.js?ver=1.0'></script>
<script type='text/javascript' src='~/Content/UserContent/js/jquery.prettyPhoto.js?ver=3.1.6'></script>
<script type="text/javascript" src="http://maps.google.com/maps/api/js"></script>
<script type='text/javascript' src='~/Content/UserContent/js/custom.js?ver=1.0'></script>
<script>
    var $jq = jQuery.noConflict();
    $jq(document).ready(function () {
        $jq("button[id^='AppendReplyButton_']").click(function () {
            var temp = $jq(this).attr('id').split("_");
            var myid = temp[1];
            var myappend = "#AppendedReplyBox_" + temp;
            $jq("#AppendedReplyBox_" + temp[1]).empty();
            $jq("#AppendedReplyBox_" + temp[1]).append("<form action=\"/PostCommentReply/AddPostCommentReply?PostCommentId=" + temp[1] + "\" data-ajax=\"true\" data-ajax-loading=\"#TicketReader_Loading\" data-ajax-method=\"Post\" data-ajax-mode=\"replace\" data-ajax-update=\"#AjaxCommentReplyBox_" + temp[1] + "\"><textarea cols=\"20\" class=\"ReplyTextBox\" id=\"Reply\" name=\"Reply\" placeholder=\"لطفا پاسخ خود را در این فیلد بنویسید ...\" required=\"\" row=\"8\" rows=\"2\" style=\"width: 730px;margin-top:20px;margin-bottom: 50px;font-size: 40px;min-height: 31px;height: 100px;float: right;max-width: 730px;\"></textarea><button class=\"tbutton color1\" style=\"float:right;margin-top:20px;margin-bottom: 50px;height: 100px; width:170px;font-size: 35px; display:inline-block;\">درج پاسخ</button></form>")

        });
    });
</script>

<body style="background-image:none;">
    <div class="page-content">

        <div class="row clearfix">
            <!--Start grid 8 posts -->
            <div class="grid_11 posts" style="float: right;margin-right: 50px;">
                <div class="post type-post status-publish format-standard has-post-thumbnail hentry clearfix">
                    <a class="thumb-big">
                        <img src="~/Content/UplodedImages/PostImages/@Model.Content_Two" alt="@Model.Content_One" style="margin-right: auto; margin-left: auto;" />
                    </a>
                    <div class="content">
                        <div class="meta-box">
                            @Scripts.Render("~/bundles/jquery")
                            @Scripts.Render("~/bundles/jqueryajax")
                            <div class="meta-more" style="font-size: 30px;width: 100%;margin-top: 35px;margin-right: auto;text-align: center;">
                                <div id="PostLikeDislikeBox" style="width: 100%;">
                    
                                    <span><i class="icon-time"></i><a>@Model.CreateDateUtcJalali</a></span>
                                    <span><i class="icon-comments"></i> <a>@Model.NumberOfComments</a></span>
                                    <span><i class="icon-thumbs-down"></i> <a>@Model.NumberOfDisLikes</a></span>
                                    <span><i class="icon-thumbs-up"></i> <a>@Model.NumberOfLikes</a></span>
                                </div>
                            </div><!-- meta date -->
                            <h1 style="margin-top: 25px;font-size: 45px;margin-right: 110px;width: 745px;text-align: center;">@Model.Content_One</h1>
                            <div style="margin-top: 12px;width: 81%;float: right;margin-bottom: 15px;" class="LikeDisLikeButtons">
                                @using (Ajax.BeginForm("DisLikePost", "Post", new { PostId = Model.ID }, new AjaxOptions
                                {
                                    UpdateTargetId = "PostLikeDislikeBox",
                                    InsertionMode = InsertionMode.Replace,
                                    LoadingElementId = "TicketReader_Loading",
                                    HttpMethod = "Post"
                                }, null))
                                {
                                    <button class="tbutton tbutton7 color1" href="#" target="_self" style="margin-left: 5px;width: 280px;height: 70px;font-size: 55px;">
                                        <span><i class="icon-thumbs-down" style=" margin-left: 10px;"></i></span>
                                    </button>
                                }
                                @using (Ajax.BeginForm("LikePost", "Post", new { PostId = Model.ID }, new AjaxOptions
                                {
                                    UpdateTargetId = "PostLikeDislikeBox",
                                    InsertionMode = InsertionMode.Replace,
                                    LoadingElementId = "TicketReader_Loading",
                                    HttpMethod = "Post"
                                }, null))
                                {
                                    <button style="margin-left:15px;width: 280px;height: 70px;font-size: 55px;" class="tbutton tbutton7 color1" href="#" target="_self">
                                        <span><i class="icon-thumbs-up" style=" margin-left: 10px;"></i></span>
                                    </button>
                                }
                            </div>
                        </div>
                        <p style="background-color: lightgray;border-radius: 5px;color: gray;font-size: 40px;padding:10px;line-height: 50px;">@Model.Content_Three</p>
                        <div style="font-size:30px;line-height: 35px;">
                            @Html.Raw(Model.Content_Four)
                        </div>
                        <p style="margin-bottom: 40px;margin-top: 20px;">
                            @if (ViewBag.VideoSrc != "")
                            {
                                <video src="/api/video/@ViewBag.VideoSrc.ToString().Substring(ViewBag.VideoSrc.LastIndexOf('.')+1)/@ViewBag.VideoSrc.ToString().Substring(0,ViewBag.VideoSrc.LastIndexOf('.'))/Spec" controls style="width: 100%;height: 250px;" type="video/mp4"></video>
                            }
                        </p>
                    </div>


                    <!-- Comment -->
                    <div class="comments" style="margin-top: 50px; ">
                        <div class="user-comments mbs">
                            @if (Model.Comments.Count != 0)
                            {
                                <div class="clearfix title-left">
                                    <h1 @*class="col-title"*@ style="border-bottom: 1px solid #000;display: inline-block;font-size: 80px;" id="ReplyTextPipoId"> @Resource.Resource.Post_Comments</h1>
                                </div>
                                <div class="navigation">
                                    <div class="prv"></div>
                                    <div class="nxt"></div>
                                </div>
                                <ul class="comment-list clearfix">
                                    @foreach (var comments in Model.Comments)
                                    {
                                        <li class="comment byuser comment-author-admin bypostauthor even thread-even depth-1 parent" id="comment-2">
                                            <div id="div-comment-2" class="comment-body" style="font-size: 45px; word-wrap: break-word;background-color: aliceblue;padding: 15px;margin-bottom: 10px;">
                                                <div style="font-size: 30px; color: black;">
                                                    <h1 class="says" id="ReplyTextPipoId">@Resource.Resource.User_Says</h1>
                                                </div>
                                                <p class="comment-meta" style="font-size: 28px;margin-top: 28px;margin-bottom: 22px;" id="ReplyTextPipoId">
                                                    @comments.CreateDateUtcJalali
                                                </p>
                                                <div style="margin-top:15px;" class="meta-more" id="AjaxCommentsLikeDisLikeBox_@comments.ID">
                                                    <span><a>@comments.NumberOfReply</a><i class="icon-comments"></i> </span>
                                                    <span><a>@comments.NumberOfLikes</a><i class="icon-thumbs-up"></i> </span>
                                                    <span><a>@comments.NumberOfDislikes</a><i class="icon-thumbs-down"></i> </span>
                                                </div>
                                                <div style="width: 35%;float: right;margin-right: 585px;margin-top: -85px;">
                                                    @using (Ajax.BeginForm("DisLikePostComment", "PostComment", new { CommentId = comments.ID }, new AjaxOptions
                                                    {
                                                        UpdateTargetId = "AjaxCommentsLikeDisLikeBox_" + comments.ID,
                                                        InsertionMode = InsertionMode.Replace,
                                                        HttpMethod = "Post"
                                                    }, null))
                                                    {
                                                        <button class="tbutton medium tbutton6 color1" style="width: 70px;height: 70px;border-radius:100px;font-size:40px;" href="#">
                                                            <span><i class="icon-thumbs-down"></i></span>
                                                        </button>
                                                    }
                                                    @using (Ajax.BeginForm("LikePostComment", "PostComment", new { CommentId = comments.ID }, new AjaxOptions
                                                    {
                                                        UpdateTargetId = "AjaxCommentsLikeDisLikeBox_" + comments.ID,
                                                        InsertionMode = InsertionMode.Replace,
                                                        HttpMethod = "Post"
                                                    }, null))
                                                    {
                                                        <button class="tbutton medium tbutton6 color1" style="width: 70px;height: 70px;border-radius:100px;font-size:40px;margin-left:7px;" href="#">
                                                            <span><i class="icon-thumbs-up"></i></span>
                                                        </button>
                                                    }
                                                    <button class="tbutton tbutton6 color1 ReplyyyyBtn" style=" height: 70px; width: 70px;border-radius:100px;font-size:40px;margin-left:7px;" type="button" id="AppendReplyButton_@comments.ID">
                                                        <span><i class="icon-reply"></i></span>
                                                    </button>
                                                </div>
                                                <div id="AjaxCommentReplyBox_@comments.ID" style="margin-top: 35px;">

                                                </div>
                                                <div id="AppendedReplyBox_@comments.ID" style="margin-top: 25px;"></div>
                                                <p class="CommentTextPipo" style="margin-top: 20px;line-height: 50px;font-size: 45px;margin-bottom: 20px;width: 80%;">@comments.Text</p>
                                            </div>
                                            <ul style="margin-right: 85px;">
                                                @foreach (var replies in comments.Replies)
                                                {
                                                    <li class="comment byuser comment-author-admin bypostauthor odd alt depth-2" id="comment-3" style="background-color: #f4f4f4;margin-bottom: 15px;">
                                                        <div id="div-comment-3" class="comment-body" style="margin-right: 20px; word-wrap: break-word;font-size: 35px;">
                                                            <div style="color:black;font-size: 30px;">
                                                                <h2 class="says"> @Resource.Resource.User_Says</h2>
                                                            </div>
                                                            <div class="comment-meta" style=" font-size: 24px; margin-top: 25px;">
                                                                @replies.CreateDateUtcJalali
                                                            </div>
                                                            <div class="meta-more" style="margin-top: 15px;width: 40%;margin-bottom:10px;" id="AjaxCommentReplyLikeDisLikeBox_@replies.ID">
                                                                <span><a>@replies.NumberOfLikes</a><i class="icon-thumbs-up"></i> </span>
                                                                <span><a>@replies.NumberOfDislikes</a><i class="icon-thumbs-down"></i> </span>
                                                            </div>
                                                            <div class="" style="width: 27%;float: right;margin-right: 585px;margin-top: -110px;">
                                                                @using (Ajax.BeginForm("DisLikePostCommentReply", "PostCommentReply", new { CommentReplyId = replies.ID }, new AjaxOptions
                                                                {
                                                                    UpdateTargetId = "AjaxCommentReplyLikeDisLikeBox_" + replies.ID,
                                                                    InsertionMode = InsertionMode.Replace,
                                                                    HttpMethod = "Post"
                                                                }, null))
                                                                {
                                                                    <button class="tbutton medium tbutton6 color1" style="width: 60px;height: 60px;border-radius:100px;font-size:40px;" href="#">
                                                                        <span><i class="icon-thumbs-down"></i></span>
                                                                    </button>
                                                                }
                                                                @using (Ajax.BeginForm("LikePostCommentReply", "PostCommentReply", new { CommentReplyId = replies.ID }, new AjaxOptions
                                                                {
                                                                    UpdateTargetId = "AjaxCommentReplyLikeDisLikeBox_" + replies.ID,
                                                                    InsertionMode = InsertionMode.Replace,
                                                                    HttpMethod = "Post"
                                                                }, null))
                                                                {
                                                                    <button class="tbutton medium tbutton6 color1" style="width: 60px;height: 60px;border-radius:100px;font-size:40px;margin-left:7px;" href="#">
                                                                        <span><i class="icon-thumbs-up"></i></span>
                                                                    </button>
                                                                }
                                                            </div>
                                                            <p class="ReplyTextPipo" style="margin-top: 15px;line-height: 40px;font-size: 30px;width: 80%; margin-bottom: 20px; color:black;">@replies.Text</p>

                                                        </div>
                                                    </li><!-- #comment-## -->
                                                }
                                            </ul><!-- .children -->
                                        </li><!-- #comment-## -->
                                    }
                                </ul>
                            }
                            @if (Model.Comments.Count == 0)
                            {
                                <h1 style=" font-size: 65px;" class="col-title">@Resource.Resource.User_NoCommentInserted</h1>}
                        </div><!-- user comments -->
                        <div class="clearfix mbs title-left">
                            <div class="clearfix">
                                <h3 class="col-title" style="font-size: 66px;">@Resource.Resource.User_LeaveYourComment</h3>
                            </div>
                            <div id="respond" class="comment-respond" style=" margin-top: 35px;">
                                @using (Ajax.BeginForm("AddPostComment", "PostComment", null, new AjaxOptions
                                {
                                    UpdateTargetId = "AjaxCommentBox",
                                    InsertionMode = InsertionMode.Replace,
                                    LoadingElementId = "TicketReader_Loading",
                                    HttpMethod = "Post"
                                }, null))
                                {
                                    <div class="comment-form" id="commentform">
                                        @*<p class="comment-notes"><span class="required"></span></p>*@
                                        @Html.HiddenFor(model => model.ID)
                                        @Html.TextAreaFor(model => model.Comment, new { @class = "inputer", @id = "comment", row = "8", style = "max-width: 100%; min-height: 200px; font-size:45px;", required = "", placeholder = @Resource.Resource.User_PleaseInsertYourComment })
                                        <p class="form-submit">
                                            <div id="AjaxCommentBox" style="margin-bottom: 35px;text-align: center; margin-left: auto; width: 800px; margin-right: 130px;">

                                            </div>
                                            <button class="tbutton large tbutton6 color1" href="#" style="width:100%;font-size: 45px;">
                                                <span>@Resource.Resource.User_SubmitCommentButton</span>
                                            </button>
                                        </p>
                                    </div>
                                }

                            </div><!-- #respond -->
                        </div><!-- form -->
                    </div>
                    <!-- endComment -->



                </div><!-- post -->
                <!-- PAGINATION -->
                <p class="hide"></p>
                <!-- END PAGINATION -->
            </div>
            <!--End grid 8 posts -->
        </div><!-- row -->
    </div><!-- end page content -->
</body>